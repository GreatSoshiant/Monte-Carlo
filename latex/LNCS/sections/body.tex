% !TEX root = ../main.tex

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\section{Introductory Remarks}

Many stablecoins work like a hypothetical vending machine: Alice deposits two volatile coins (\eg a cryptocurrency like BTC or ETH) into the machine and it returns to her two new coins---a `black' coin that is stable and a `red' coin that is even more volatile in price than the original coins Alice put in. The machine cannot reduce overall price volatility, but it can push volatility from the black coin onto the red coin. 

Consider the following example of a stability mechanism that works like this~\cite{CDM20}. An asset is chosen that is considered stable by definition (\eg the US dollar). The vending machine is implemented as a decentralize app (DApp; \aka smart contract) on a blockchain (\eg Ethereum). Alice deposits an amount of ETH worth \$1.50 USD into the DApp. The DApp references a trusted oracle service for the current ETH/USD exchange rate to enforce this. The DApp holds the ETH as a deposit for future redemption, and returns to Alice a red coin and a black coin (\eg as an ERC-20 tokens). Alice can sell one or both coins. In the future, the owner of the black coin can redeem it for ETH from the DApp, and receives the equivalent of \$1.00 USD. This assumes the initial deposit of \$1.50 USD worth of ETH is still worth at least \$1.00 USD at redemption time---if not, the black coin owner receives all of the collateral. The red coin holder receives any remaining ETH after the black coin holder is paid.

The key idea is that the black coin will nearly always be worth the equivalent of \$1.00 USD. This is true when ETH/USD increases in value, stays the same, or declines moderately. Only if it declines significantly does the black coin start to experience volatility in price---it's redemption value will decrease at the same rate as ETH/USD itself. For the red coin, the redemption value increases and decreases as ETH/USD itself increases and decreases, however the gains and losses are amplified. This is an overview; we return to these details below.

\paragraph{Synthetic Assets.} The red-black coin primitive can be generalized to produce black coins that match the price of any financial asset, not just a currency like the USD, simply by changing the price that the oracle references. For example, a black coin for one share of the company Apple (APPL) would use an ETH/APPL price feed (possibly constructed by bridging ETH/USD and APPL/USD prices) and otherwise be exactly the same. These black coins are `synthetic assets' because they expose the holder to the price movements of the asset but do not afford the holder any other benefits of holding the financial instrument (\eg shareholder votes or dividends for equities; physical delivery for futures; or the ability to settle a loan, repo, or option contract on the asset). What a red coin represents this example is less natural than for a stablecoin: it is a bet that ETH will increase in price faster than APPL.

\paragraph{Relation to Dai.} Red-black coins are a primitive that has been used to build larger stablecoin systems like MakerDAO's currency \dai. In Maker, black coins are called \dai and a red coin is a \vault (\nee collateralized debt position or \cdp). However the system is immensely more complicated because it adds a number of features that the basic red-black coin primitive lacks: (1) interchangeability (fungibility) of red coins across multiple producers, (2) a liquidation process to incentive black coin holders to increase the collateralized ETH as ETH/USD declines or face an auction that automatically settles a red-black pair, and (3) fees to balance supply/demand of red coins with black coins that are adjustable through a distributed governance.

\subsection{Contributions} In this paper, we study the red-black coin primitive to better understand its characteristics in isolation, which seems prudent before analyzing more complex systems. We use methods from quantitative finance to model how risky red and black coins are under different scenarios. We then examine the necessity of the extra infrastructure projects like MakerDao add to red-black coins---precisely what does the added complexity (\eg stability fees, liquidation, global shutdown, \etc) achieve and what are the design alternatives for the same functionality?

\subsection{Related Work} Several systemization of knowledge papers cover stablecoins~\cite{PHP+19,MSS20,CDM20}. Our notion of a red-black coin is inspired by the `indirectly-backed' classification from~\cite{CDM20}. Maker is considered a decentralized finance (DeFi) project and it (and other DeFi projects) has been studied from orthogonal angles including attacks/measurements on governance and oracles, attacks using flash loans, and modelling liquidity crises~\cite{GRB20,GPH+20,QZLG20,KMM20}. Our financial modelling uses the same methodology as~\cite{GPH+20}. Other projects built on the red-black primitive (for both stablecoins and synthetic assets) include Synthetix's sUSD, Kava's USDX, UMA, and BitUSD. 

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\section{Financial Characteristics}

\begin{figure}[t]
\centering
\includegraphics[width=0.6\columnwidth]{price1.pdf}
\caption{Redemption value in USD (y-axis) of a red coin, a black coin, and amounts of ETH equivalent to \$1 USD and \$0.50 USD as the price of ETH (x-axis) changes.\label{fig:price1}}
\end{figure}

In this section, we answer questions about the financial characteristics of the red-black primitive. Consider a black coin that targets \$1 USD when 1 ETH is \$381.56 USD, and the DApp holds 0.00393126 ETH (worth \$1.5 USD).  Assume no one intervenes when ETH/USD declines enough that black coins starts to lose value. Figure~\ref{fig:price1} shows how much a black coin is worth (y-axis) as the price of ETH varies (x-axis). The starting point (\$381.56 USD) is marked and if the price of ETH increases (rightward), the black coin is always worth \$1. If the value of ETH decreases (leftward), the black coin is still stable until the value of ETH hits \$254.37 (marked)---at this point, 0.00393126 ETH starts to become worth less than \$1 and the black coin `breaks the buck.'

Figure~\ref{fig:price1} also shows the redemption value of a red coin. When created, a red coin is redeemable for \$0.50 USD. A user with \$0.50 USD can choose between purchasing a red coin or purchasing ETH (also shown). In both cases, the user profits when ETH increases and loses when ETH decreases in price. However the slope of red coin is greater. This indicates it is a \emph{leveraged} position in ETH.  

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\subsection{How much should you pay for a black coin?}

Consider a black coin that is purchased today when ETH is \$381.56 USD. How much will it be worth in 100 days? In most future worlds, the black coin will be worth \$1. In some future worlds, when ETH is worth less than \$254.37, the black coin breaks the buck, but even here, it takes a `haircut' on value as opposed to being worthless (\eg it can be redeemed for, say, \$0.90). 

\begin{figure}[t]
    \centering
        \subfloat[Price of ETH in USD (y-axis) over number of days (x-axis).]{\includegraphics[width=0.45\columnwidth]{figures/mc.pdf}}
        \qquad
        \subfloat[Histogram of final price of ETH in USD (x-axis).]{\includegraphics[width=0.45\columnwidth]{figures/histro.pdf}\label{fig:histro}}
    \caption{ETH/USD Monte Carlo simulation results. \label{fig:sim}}
\end{figure}

The expected value of a black coin can be estimated if we have a statistical model for ETH price movements. In finance, many statistical models have been proposed for many assets. For a first look, we use geometric Brownian motion (GBM), which underlies the Black-Scholes model for pricing options~\cite{BS73} and has been used for ETH in other work~\cite{GPH+20}. We omit the details of the model itself (covered in nearly every  financial textbook~\cite{Sey09}). We fit the model to the historical `closing' prices of ETH for 1000 days prior to 18 Sept 2020\footnote{CoinGecko API: \url{https://api.coingecko.com}} and obtain $\mu=0.000744754$ and $\sigma=0.0524172$. If we simulate the next 100 days using Monte Carlo, we obtain the results in Figure~\ref{fig:sim}. For the parameters of this example, the expected value of the black coin \$0.94 USD. Our model can be adjusted for the initial price, over-collateralization ratio (see below), and days until redemption. It is available in Python and Mathematica.\footnote{GitHub: URL omitted for anonymity.} 

As shown in Figure~\ref{fig:sim}\subref{fig:histro}, the expected return is log-normal. When we model 200 days, instead of 100, the variance increases, adding more occurrences of black coins slipping below \$1 but slipping along a gentler curve. The net effect is a decrease in value. The expected redemption value of our black coin is \$0.94 USD after 100 days, \$0.85 USD after 200 days, and \$0.80 after 1 year. 

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\subsection{Why would you want a red coin?}

While a stablecoin has utility to the holder, it is less clear what the utility of a red coin is. Margin trading is popular in traditional financial markets so speculators can obtain a leveraged position. Here, a red coin holder acquires the profits and losses from both the black coin's ETH (initial redemption value of \$1) and the remaining over-collaterized ETH (initial redemption value of \$0.50). Investing in a red coin is equivalent to investing \$0.50 along with a borrowed $2\times\$0.50$ in ETH (\ie 3:1 leverage). 

If the collateralization amount is decreased from \$1.50 to \$1.10, then leverage for the red coin increases to 10:1. However the black coins becomes riskier and its 100-day expected value drops from \$0.94 to \$0.86. For a \$2.00 collateralization, red coin leverage is 2:1, and black coin value is \$0.98. 

\begin{figure}[t]
\centering
\includegraphics[width=0.6\columnwidth]{price2.pdf}
\caption{Redemption value in USD (y-axis) of a red coin, ETH equivalent to \$1.50 USD, and .\label{fig:price2}}
\end{figure}

Speculators seek out red coins. Consider a trader that holds ETH (assume for now with 0\% interest) and does not want leverage---she seemingly has no interest in red (or black) coins. In scenario A, she holds \$1.50 worth of ETH. In B, she takes her \$1.50 worth of ETH, issues and sells a black coin (\eg for \$0.94 USD), and holds the red coin. She actually has a small portfolio of a red coin and close to \$1 USD. The redemption value of A and B are depicted in Figure~\ref{fig:price2}, along with the red coin by itself. The portfolio is actually an attractive investment---she has `insurance' against catastrophic loss during a devaluation of ETH for a small fixed `fee'---the \$0.06 USD difference between what she recieved for the red coin (\$0.94) and what the DApp pays out to the red coin holder (\$1.00). Additionally, she produced a stable black coin, which has external benefit to the decentralized economy. 

Finally, we can revise our assumption and assume she can earn interest on ETH (through advances in DeFi). However this does not change the point as decentralized lending (\eg Compound) can allow red coins to earn interest with the same mechanism used for ETH, and the USD can also earn a return.

\section{Extending Red-Black Coins}

Red-black coins are primitives. Other aspects of their design need to be determined before they could actually be deployed. Design decisions include the maturity/redemption policy, how to make black and red coins fungible, and interventions to prevent the red coin from breaking the buck. One set of decisions lead to a design like MakerDao's \dai, however there are other decisions that could result in very different stablecoins. The purpose of this section to emphasize that \dai is one set of reasonable decisions but there are many alternative designs that have not been (to our knowledge) explored.

\subsection{Maturity}

\subsection{Fungabiility}

\subsection{Under-collateralization Mitigation}

This stability mechanism might enable a third-party to trigger a redemption (for a fee) if they notice a deposit is close to losing more value than the face value of the coins (before the coin holder does). Note that while allowing third parties to trigger a redemption seems like a sensible service, if the coin holders are not monitoring the situation, they will end up holding ETH, instead of an AliceCoin, which is still losing value. Thus this mechanism does not protect holders of the stablecoin at all --- it is really only about maintaining the reputation of the stablecoin. The stablecoin can claim it has never broken its peg to the dollar but it is an illusion, because as soon as it is about to lose value, it turns back into its collateral and then loses values under the name of the collateral instead of the stablecoin. If the holder isnâ€™t paying attention, they actually lose more by having it triggered than they would breaking the buck.

\subsection{Autonomy} 

DAO.
 
 



\section{Concluding Remarks}

Finding better models than GBM future work. 